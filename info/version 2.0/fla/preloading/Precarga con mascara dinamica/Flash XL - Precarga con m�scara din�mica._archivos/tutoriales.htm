<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0043)http://64.235.39.120/tutoriales.php?sid=201 -->
<HTML><HEAD><TITLE>Documento sin título</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<STYLE type=text/css>.linksForos {
	
}
.linksForos A:link {
	COLOR: #444f7f; TEXT-DECORATION: none
}
.linksForos A:visited {
	COLOR: #444f7f; TEXT-DECORATION: none
}
.linksForos A:hover {
	COLOR: #444f7f; TEXT-DECORATION: underline
}
.linksForos A:active {
	COLOR: #444f7f; TEXT-DECORATION: none
}
</STYLE>

<STYLE type=text/css>.linksEnlaces {
	
}
.linksEnlaces A:link {
	COLOR: #000000; TEXT-DECORATION: underline
}
.linksEnlaces A:visited {
	COLOR: #000000; TEXT-DECORATION: underline
}
.linksEnlaces A:hover {
	COLOR: #666699; TEXT-DECORATION: underline
}
.linksEnlaces A:active {
	COLOR: #000000; TEXT-DECORATION: underline
}
</STYLE>

<STYLE type=text/css>.LinkBlanco {
	
}
.LinkBlanco A:link {
	COLOR: #ffffff; TEXT-DECORATION: underline
}
.LinkBlanco A:visited {
	COLOR: #ffffff; TEXT-DECORATION: underline
}
.LinkBlanco A:hover {
	COLOR: #99ccff; TEXT-DECORATION: underline
}
.LinkBlanco A:active {
	COLOR: #ffffff; TEXT-DECORATION: underline
}
</STYLE>

<STYLE type=text/css>.linktutoriales {
	
}
.linktutoriales A:link {
	COLOR: #ffffff; TEXT-DECORATION: underline
}
.linktutoriales A:visited {
	COLOR: #ffffff; TEXT-DECORATION: underline
}
.linktutoriales A:hover {
	COLOR: #000066; TEXT-DECORATION: underline
}
.linktutoriales A:active {
	COLOR: #ffffff; TEXT-DECORATION: underline
}
</STYLE>

<STYLE type=text/css>.linkMenuSuperior {
	
}
.linkMenuSuperior A:link {
	COLOR: #ffffff; TEXT-DECORATION: none
}
.linkMenuSuperior A:visited {
	COLOR: #ffffff; TEXT-DECORATION: none
}
.linkMenuSuperior A:hover {
	COLOR: #ccccff; TEXT-DECORATION: none
}
.linkMenuSuperior A:active {
	COLOR: #ffffff; TEXT-DECORATION: none
}
</STYLE>

<STYLE type=text/css>.linksAgenda {
	
}
.linksAgenda A:link {
	COLOR: #ffcc00; TEXT-DECORATION: underline
}
.linksAgenda A:visited {
	COLOR: #ffcc00; TEXT-DECORATION: underline
}
.linksAgenda A:hover {
	COLOR: #99ccff; TEXT-DECORATION: underline
}
.linksAgenda A:active {
	COLOR: #ffcc00; TEXT-DECORATION: underline
}
.bandaVerde {
	BORDER-RIGHT: #66cc33 1px solid; BORDER-TOP: #66cc33 0px solid; BORDER-LEFT: #66cc33 0px solid; BORDER-BOTTOM: #66cc33 0px solid
}
.bandaFucsia {
	BORDER-RIGHT: #666699 1px solid; BORDER-TOP: #666699 0px solid; BORDER-LEFT: #666699 0px solid; BORDER-BOTTOM: #666699 0px solid
}
</STYLE>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY bgColor=#6d8cb3>
<TABLE cellSpacing=0 cellPadding=0 border=0>
  <TBODY>
  <TR>
    <TD width=748 bgColor=#ffffff>
      <TABLE cellSpacing=0 cellPadding=0 width="50%" border=0>
        <TBODY>
        <TR>
          <TD><IMG height=53 src="tutoriales_archivos/cabezera.gif" width=748 
            useMap=#Map border=0></TD></TR>
        <TR>
          <TD><IMG height=24 src="tutoriales_archivos/menu.gif" width=748 
            useMap=#Map2 border=0></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width=723 border=0>
        <TBODY>
        <TR>
          <TD>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top width=560 bgColor=#ffffff>
                  <TABLE cellSpacing=0 cellPadding=1 width="100%" border=0>
                    <TBODY>
                    <TR>
                      <TD>
                        <TABLE cellSpacing=0 cellPadding=0 width="100%" 
                        background=tutoriales_archivos/az_fondo_pixel.gif 
                        border=0>
                          <TBODY>
                          <TR>
                            <TD>
                              <TABLE cellSpacing=0 cellPadding=4 width="100%" 
                              border=0>
                                <TBODY>
                                <TR>
                                <TD width="81%" bgColor=#ffffff><FONT 
                                face="Arial, Helvetica, sans-serif" 
                                color=#ff6600 size=3><STRONG>Flash MX - Precarga 
                                con máscara dinámica.</STRONG></FONT></TD>
                                <TD 
                          width="19%">&nbsp;</TD></TR></TBODY></TABLE></TD></TR>
                          <TR>
                            <TD 
                            background=tutoriales_archivos/az_fondo_pixel.gif>
                              <TABLE cellSpacing=0 cellPadding=2 width="100%" 
                              border=0>
                                <TBODY>
                                <TR>
                                <TD><FONT class=linksForos 
                                face="Arial, Helvetica, sans-serif" 
                                color=#444f7f size=1><IMG height=7 
                                src="tutoriales_archivos/flecha_azul.gif" 
                                width=10></FONT><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>autor:</STRONG><FONT 
                                color=#336699><STRONG> 
                                tonilopez</STRONG></FONT></FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
                        <TABLE cellSpacing=5 cellPadding=5 width="100%" 
border=0>
                          <TBODY>
                          <TR>
                            <TD>
                              <STYLE type=text/css>.TablaBordeNegro {
	BORDER-RIGHT: #000000 1px solid; BORDER-TOP: #000000 1px solid; BORDER-LEFT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid
}
</STYLE>

                              <STYLE type=text/css>.enlace {
	
}
.enlace A:link {
	COLOR: #000000; TEXT-DECORATION: none
}
.enlace A:visited {
	COLOR: #000000; TEXT-DECORATION: none
}
.enlace A:hover {
	COLOR: #000000; TEXT-DECORATION: underline
}
.enlace A:active {
	COLOR: #000000; TEXT-DECORATION: none
}
</STYLE>

                              <TABLE cellSpacing=0 cellPadding=0 width="100%" 
                              border=0>
                                <TBODY>
                                <TR>
                                <TD>
                                <DIV align=justify><STRONG><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1>Flash MX - Precarga con máscara 
                                dinámica.<BR><BR></FONT></STRONG><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1>En muchos sitios web, vemos precargas con 
                                barras de porcentage, algunas mas elaboradas 
                                incluyen tiempo estimado de descarga, Kb 
                                cargados, etc. Pero todos estos datos, para el 
                                usuario 'normal' no significan nada, e incluso 
                                pueden despistarlo un poco, debemos limitarnos a 
                                programar precargas que indiquen claramente el 
                                progreso de la forma mas sencilla y clara 
                                posible, un efecto bonito y eficaz es el que 
                                produce ver como el logotipo del sitio se va 
                                mostrando a medida que la página se carga, esto 
                                es lo que vamos a aprender en este 
                                tutorial.<BR><BR></FONT></DIV></TD></TR>
                                <TR>
                                <TD><IMG height=16 
                                src="tutoriales_archivos/swf_ico.gif" width=14> 
                                <FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                color=#666666 size=1>Ejemplo</FONT> 
                                <BR><BR></TD></TR>
                                <TR>
                                <TD>
                                <TABLE class=TablaBordeNegro cellSpacing=0 
                                cellPadding=0 width=300 border=0>
                                <TBODY>
                                <TR>
                                <TD>
                                <OBJECT 
                                codeBase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0 
                                height=200 width=300 
                                classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000><PARAM NAME="movie" VALUE="cargar.swf"><PARAM NAME="quality" VALUE="high">
                                                                          <embed 
                                src="cargar.swf" 
                                quality="high" 
                                pluginspage="http://www.macromedia.com/go/getflashplayer" 
                                type="application/x-shockwave-flash" width="300" 
                                height="200"></embed></OBJECT></TD></TR></TBODY></TABLE><BR></TD></TR>
                                <TR>
                                <TD><IMG height=18 
                                src="tutoriales_archivos/zip_ico.gif" width=18> 
                                <FONT class=enlace 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><A 
                                href="http://64.235.39.120/tutoriales/precarga_mascara/archivos.zip">descargar 
                                archivos</A><BR><BR></FONT></TD></TR>
                                <TR>
                                <TD>
                                <DIV align=justify><STRONG><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1>Preparación del entorno de 
                                trabajo<BR></FONT></STRONG><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><BR>Para éste ejemplo necesitas una 
                                imagen, de la que debes crear dos versiones 
                                diferentes, una sin color y otra en color. Abre 
                                una película nueva y añade 4 capas, asigna los 
                                nombres de capa siguientes: 
                                as,contenido,mascara,imagen RGB, imagen 
                                duotone.<BR><BR></FONT></DIV></TD></TR>
                                <TR>
                                <TD><IMG height=119 
                                src="tutoriales_archivos/timeLine01.gif" 
                                width=204><BR><BR></TD></TR>
                                <TR>
                                <TD>
                                <DIV align=justify>
                                <P><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>&nbsp;1. Imagen duotone 
                                <BR></STRONG><BR>Selecciona la capa 'imagen 
                                duotone' e importa la imagen sin color, 
                                Archivo,Importar ( <FONT 
                                color=#ff0000>Ctrl+R</FONT> ). Ésta imagen es la 
                                que se ve hasta que el contenido de la página 
                                está totalmente cargado y va siendo substituida 
                                gradualmente por su versión en color. Abre la 
                                paleta alinear marcando las casillas que se 
                                indican en el gráfico siguiente; de ésta forma 
                                conseguimos centrar la imagen en 
                                escena.</FONT><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1> <BR><BR><BR></FONT></P></DIV></TD></TR>
                                <TR>
																									
																								</TR>
                                <TR>
                                <TD><IMG height=156 
                                src="tutoriales_archivos/alineamiento.gif" 
                                width=218><BR><BR></TD></TR>
                                <TR>
                                <TD>
                                <DIV align=justify><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>2. Imagen 
                                RGB</STRONG><BR><BR>Selecciona la capa 'imagen 
                                RGB' e importa la versión en color de la imagen. 
                                Ésta imagen será la que progresivamente 
                                substituirá a la versión sin color. Debes 
                                situarla en las mismas coordenadas que su 
                                versión duotone, utiliza el mismo sistema con la 
                                paleta 
                                alineamiento.<BR><BR></FONT></DIV></TD></TR>
                                <TR>
                                <TD>
                                <DIV align=justify><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>3. Máscara</STRONG><BR><BR>3.1 
                                Selecciona la capa 'mascara' y con la 
                                herramienta rectángulo, crea una forma con las 
                                mismas medidas que la imagen que utilizas para 
                                la precarga. <BR><BR>3.2 Convierte la forma que 
                                has creado en un clip de película, dale el 
                                nombre de instancia 'mascara'.<BR><BR>3.3 Sitúa 
                                el clip de película en las mismas coordenadas 
                                x/y que las imgenes anteriores y convierte la 
                                capa 'mascara' en un capa de máscara. ( clic con 
                                el botón derecho del ratón y seleccionar 
                                'máscara' del menú contextual).<BR><BR>3.4 Es 
                                importante que el punto de registro en la 
                                posición _y del clip de película quede en la 
                                parte inferior, para ello edita el clip de 
                                película ( clic con el botón derecho del ratón y 
                                selecciona 'editar en contexto' del menú 
                                contextual); para situar el punto de registro en 
                                la parte inferior asigna como valor de _y la 
                                altura del clip de película con un signo 
                                negativo delante, regresa a la escena principal 
                                y vuelve a centrar el clip de película en el 
                                escenario como hemos hecho 
                                anteriormente.<BR><BR><BR></FONT></DIV></TD></TR>
                                <TR>
                                <TD>
                                <DIV align=justify><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>4. Contenido</STRONG><BR><BR>En 
                                el caso que quieras poner el contenido de tu 
                                película en la misma escena donde creas la 
                                precarga, añade un fotograma en la capa 
                                contenido, es en éste fotograma, donde pondrás 
                                el resto de imágenes, textos,movieCips, etc. 
                                También puedes preferir colocar los contenidos 
                                en otra escena, es cuestión de gustos 
                                ...<BR><BR></FONT></DIV></TD></TR>
                                <TR>
                                <TD>
                                <DIV align=justify><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>5. 
                                Programación</STRONG><BR><BR>Selecciona la capa 
                                'as' y escribe el script que comentaremos a 
                                continuación:<BR><BR>mascara.<FONT 
                                color=#0000ff>_yscale</FONT> = 0;<BR><FONT 
                                color=#0000ff>this</FONT>.<FONT 
                                color=#0000ff>onEnterFrame</FONT> = <FONT 
                                color=#0000ff>function</FONT>() {<BR>porcentage 
                                = <FONT color=#0000ff>int</FONT>((<FONT 
                                color=#0000ff>getBytesLoaded</FONT>()/<FONT 
                                color=#0000ff>getBytesTotal</FONT>())*100);<BR><FONT 
                                color=#0000ff>if</FONT> (porcentage == 100) 
                                {<BR><FONT color=#0000ff>delete</FONT> <FONT 
                                color=#0000ff>this</FONT>.<FONT 
                                color=#0000ff>onEnterFrame</FONT>; <FONT 
                                color=#666666><BR></FONT>gotoAndStop(2)<FONT 
                                color=#999999><BR>// aqui la peli ya está 
                                cargada, escribe tu código (gotoAnd....) 
                                etc.</FONT><BR>} else {<BR>mascara.<FONT 
                                color=#0000ff>_yscale</FONT> = 
                                porcentage;<BR>}<BR>}; <BR><BR><BR><IMG 
                                height=15 
                                src="tutoriales_archivos/notas_ico.gif" 
                                width=14> &nbsp;<STRONG>Comentarios sobre el 
                                código<BR></STRONG><BR>1. mascara.<FONT 
                                color=#0000ff>_yscale</FONT> = 0;<BR><BR>Dado 
                                que el movieClip mide tanto en anchura como en 
                                altura exactamente lo mismo que nuestra imagen 
                                de precarga, establecemos que su altura sea 
                                inicialmente igual a cero, de ésta forma, 
                                evitamos el efecto 'raro' que causaría ver como 
                                en principio se ve toda la imagen en color 
                                (prueba el mismo script sin ésta línea para ver 
                                a que me refiero).<BR><BR>3. porcentage = <FONT 
                                color=#0000ff>int</FONT>((<FONT 
                                color=#0000ff>getBytesLoaded</FONT>()/<FONT 
                                color=#0000ff>getBytesTotal</FONT>())*100);<BR><BR>Calculamos 
                                el tanto por ciento de película que se ha 
                                cargado, utilizando la fórmula (porcentage 
                                cargado = bytes cargados / total bytes que 
                                cargará) * 100, enseguida verás para que utilizo 
                                este dato.<BR><BR>4. mascara.<FONT 
                                color=#0000ff>_yscale</FONT> = 
                                porcentage;<BR><BR>Aplico el valor que 
                                anteriormente he calculado (porcentage) a la 
                                propiedad <FONT color=#0000ff>_yscale</FONT> del 
                                clip de película máscara, esto hace que se vaya 
                                viendo la imagen en color substituyendo a la 
                                imagen duotono.<BR><BR>5. <FONT 
                                color=#0000ff>if</FONT> (porcentage == 100) 
                                {<BR><FONT color=#0000ff>delete</FONT> <FONT 
                                color=#0000ff>this</FONT>.<FONT 
                                color=#0000ff>onEnterFrame</FONT>; <BR><BR>He 
                                creado un bucle de lectura <FONT 
                                color=#0000ff>onEnterFrame</FONT>, pero una vez 
                                se haya cumplido la condición porcentage = 100 
                                lo detengo con la sentencia <FONT 
                                color=#0000ff>delete</FONT> <FONT 
                                color=#0000ff>this</FONT>.<FONT 
                                color=#0000ff>onEnterFrame</FONT>; ya que de 
                                otra forma seguiría ejecutándose inútilmente y 
                                consumiendo recursos del sistema 
                                innecesariamente.<BR><BR><BR></FONT></DIV></TD></TR>
                                <TR>
                                <TD><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1>Es todo, 
                                saludos!!</FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
                        <TABLE cellSpacing=0 cellPadding=0 width="100%" 
border=0>
                          <TBODY>
                          <TR>
                            <TD>&nbsp; </TD></TR>
                          <TR>
                            <TD>
                              <TABLE cellSpacing=0 cellPadding=4 width="100%" 
                              border=0>
                                <TBODY>
                                <TR bgColor=#cccc99>
                                <TD width="69%"><FONT class=linksForos 
                                face="Arial, Helvetica, sans-serif" 
                                color=#444f7f size=1><IMG height=7 
                                src="tutoriales_archivos/flecha_azul.gif" 
                                width=10></FONT><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                color=#336699 size=1><STRONG>Flash MX - Precarga 
                                con máscara dinámica.</STRONG></FONT></TD>
                                <TD width="31%">&nbsp;</TD></TR></TBODY></TABLE>
                              <TABLE cellSpacing=0 cellPadding=4 width="100%" 
                              border=0>
                                <TBODY>
                                <TR bgColor=#cccc99>
                                <TD width="69%"><FONT class=linksForos 
                                face="Arial, Helvetica, sans-serif" 
                                color=#444f7f size=1><IMG height=7 
                                src="tutoriales_archivos/flecha_azul.gif" 
                                width=10></FONT><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><STRONG>autor:</STRONG><FONT 
                                color=#336699><STRONG> 
                                tonilopez</STRONG></FONT></FONT><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                color=#336699 size=1><BR></FONT></TD>
                                <TD width="31%"><FONT 
                                face="Verdana, Arial, Helvetica, sans-serif" 
                                size=1><FONT 
                                color=#336699></FONT></FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD>
                <TD vAlign=top width=87>&nbsp; 
        </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD><IMG height=31 src="tutoriales_archivos/pie.gif" 
  width=748></TD></TR></TBODY></TABLE><MAP name=Map><AREA shape=RECT 
  coords=17,7,136,48 href="http://64.235.39.120/index.html"></MAP><MAP 
  name=Map2><AREA shape=RECT coords=25,2,133,17 
  href="http://64.235.39.120/index.html"><AREA shape=RECT coords=156,2,264,17 
  href="http://64.235.39.120/tutoriales_listado.php?catid=5"><AREA shape=RECT 
  coords=286,2,393,17 
  href="http://64.235.39.120/modules.php?op=modload&amp;name=Sections&amp;file=index&amp;req=listarticles&amp;secid=2"><AREA 
  shape=RECT coords=416,2,523,17 
  href="http://64.235.39.120/formacion_es.php"><AREA shape=RECT 
  coords=641,1,742,17 
href="http://64.235.39.120/contactar.php"></MAP></BODY></HTML>
